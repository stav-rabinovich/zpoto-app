# 🛠️ מדריך מנהל מערכת - Zpoto Admin

## 🚀 התחברות לממשק הניהול

### כתובת הממשק:
- **Development:** http://localhost:5173
- **Production:** https://admin.zpoto.co.il

### פרטי התחברות:
- **אימייל:** admin@zpoto.co.il
- **סיסמה:** [סיסמת האדמין]

---

## 📋 ממשק הניהול הראשי

### 🏠 דף הבית
- **סטטיסטיקות כלליות:** משתמשים, חניות, הזמנות
- **גרפים:** מגמות שימוש והכנסות
- **התראות:** בעיות טכניות ודיווחים

### 👥 ניהול משתמשים
- **רשימת כל המשתמשים** במערכת
- **חיפוש וסינון:** לפי שם, אימייל, תפקיד
- **פעולות זמינות:**
  - 👁️ **צפייה בפרטים**
  - ✏️ **עריכת פרטים**
  - 🚫 **חסימת משתמש**
  - ✅ **ביטול חסימה**

### 🏗️ ניהול חניות
- **רשימת כל החניות** במערכת
- **מידע מפורט:** בעלים, מיקום, מחיר, סטטוס
- **פעולות זמינות:**
  - 👁️ **צפייה בפרטים**
  - ✏️ **עריכת פרטים**
  - 🚫 **השבתת חניה**
  - ✅ **הפעלת חניה**
  - 🗑️ **מחיקת חניה**

### 📋 בקשות בעלי חניה
- **רשימת בקשות** ממתינות לאישור
- **פרטי הבקשה:** שם, אימייל, טלפון, כתובת
- **פעולות זמינות:**
  - ✅ **אישור בקשה** + יצירת חשבון
  - ❌ **דחיית בקשה**
  - 📧 **שליחת הודעה**

---

## 🔐 ניהול בעלי חניה

### ✅ אישור בקשת בעל חניה
1. **היכנס לרשימת הבקשות**
2. **בחר בקשה** לבדיקה
3. **בדוק את הפרטים:**
   - שם מלא ומספר טלפון
   - כתובת אימייל תקינה
   - כתובת החניה וחוקיותה
   - תיאור החניה
4. **לחץ "אישור"** - המערכת תיצור חשבון אוטומטית
5. **פרטי ההתחברות יישלחו** לאימייל הבעלים

### ❌ דחיית בקשה
1. **בחר את הבקשה**
2. **לחץ "דחייה"**
3. **כתוב סיבת הדחייה** (אופציונלי)
4. **אשר את הדחייה**

### 🔑 ניהול פרטי התחברות
- **סיסמה ראשונית:** המערכת יוצרת סיסמה זמנית
- **איפוס סיסמה:** אפשר לאפס סיסמה לבעל חניה
- **חסימת גישה:** חסימה זמנית או קבועה

---

## 🚫 מערכת חסימות

### חסימת בעל חניה
1. **היכנס לרשימת המשתמשים**
2. **חפש את בעל החניה**
3. **לחץ על כרטיס המשתמש**
4. **לחץ "חסום משתמש"**
5. **אשר את החסימה**

### מה קורה כשחוסמים בעל חניה:
- ✅ **זריקה מיידית** מהממשק אם הוא מחובר
- ✅ **חסימת גישה** לכל מסכי בעלי החניה
- ✅ **השבתת חניות** אוטומטית
- ✅ **הסרה מחיפוש** - חניות לא יופיעו ללקוחות
- ✅ **איפוס זמינות** - כל השעות נחסמות

### ביטול חסימה:
1. **חזור לכרטיס המשתמש**
2. **לחץ "בטל חסימה"**
3. **החניות יחזרו להיות זמינות**

---

## 📊 דוחות ומעקב

### 📈 דוח הכנסות
- **הכנסות חודשיות/שנתיות**
- **פילוח לפי בעלי חניה**
- **מגמות צמיחה**

### 📋 דוח פעילות
- **הזמנות חדשות**
- **ביטולים**
- **משתמשים חדשים**
- **בקשות בעלי חניה**

### 🔍 לוגים ומעקב
- **לוגי שגיאות**
- **פעילות משתמשים**
- **שינויים במערכת**

---

## 🛠️ תחזוקה טכנית

### 💾 גיבוי נתונים
```bash
# יצירת גיבוי יומי
cp dev.db backup_$(date +%Y%m%d).db
```

### 🔄 עדכון מערכת
```bash
# Backend
cd backend
npm run build
npm start

# Admin Panel
cd frontend/admin
npm run build
```

### 📊 Prisma Studio
- **כתובת:** http://localhost:5555
- **שימוש:** צפייה ועריכה ישירה של בסיס הנתונים
- **זהירות:** שינויים ישירים יכולים לפגוע במערכת

---

## ⚠️ נהלי בטיחות

### 🔐 אבטחת מידע
- **שנה סיסמאות** באופן קבוע
- **גבה נתונים** מדי יום
- **עקוב אחר פעילות חשודה**

### 🚨 מצבי חירום
- **שרת נפל:** בדוק לוגים ואתחל שירותים
- **בסיס נתונים פגום:** שחזר מגיבוי אחרון
- **התקפת סייבר:** נתק מהרשת ופנה למומחה

### 📞 אנשי קשר חירום
- **מפתח ראשי:** [מספר טלפון]
- **מנהל מערכת:** [מספר טלפון]
- **תמיכה טכנית:** [מספר טלפון]

---

## 🔧 פתרון בעיות נפוצות

### ❓ בעיות התחברות
**בעיה:** אדמין לא יכול להתחבר
**פתרון:**
1. בדוק שהסיסמה נכונה
2. בדוק שהמשתמש הוא ADMIN ברול
3. בדוק שהשרת רץ
4. בדוק לוגי שגיאות

### ❓ בעל חניה לא מקבל אימייל
**בעיה:** פרטי התחברות לא נשלחים
**פתרון:**
1. בדוק הגדרות SMTP
2. בדוק שהאימייל תקין
3. בדוק תיקיית ספאם
4. שלח מחדש ידנית

### ❓ חניה לא מופיעה בחיפוש
**בעיה:** חניה פעילה לא נראית ללקוחות
**פתרון:**
1. בדוק שהחניה פעילה
2. בדוק שהבעלים לא חסום
3. בדוק הגדרות זמינות
4. בדוק מיקום ורדיוס חיפוש

---

## 📚 מקורות נוספים

### 🔗 קישורים שימושיים
- **תיעוד API:** /api/docs
- **מדריך מפתחים:** README.md
- **לוגי מערכת:** /logs/
- **מעקב ביצועים:** /monitoring/

### 📖 מדריכים נוספים
- **הגדרת סביבת פיתוח**
- **פריסה לפרודקשן**
- **אבטחת מערכת**
- **אופטימיזציה וביצועים**

---

*מדריך זה עודכן לאחרונה: אוקטובר 2024*
*גרסה: 1.0*
